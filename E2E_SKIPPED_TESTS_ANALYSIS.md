# E2Eã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆè©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

**æ—¥æ™‚**: 2026-01-10
**ç·ã‚¹ã‚­ãƒƒãƒ—æ•°**: 139 tests

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

139ä»¶ã®ã‚¹ã‚­ãƒƒãƒ—ãƒ†ã‚¹ãƒˆã¯ **æ„å›³çš„ãªã‚¹ã‚­ãƒƒãƒ—** ã§ã‚ã‚Šã€ãƒã‚°ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã“ã‚Œã‚‰ã¯å¤ã„èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ (`authenticateUser`) ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã§ã€æ–°ã—ã„èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (`authenticateViaAPI`) ã¸ã®ç§»è¡ŒãŒå¿…è¦ã§ã™ã€‚

---

## ã‚¹ã‚­ãƒƒãƒ—ã®3ã¤ã®ã‚«ãƒ†ã‚´ãƒª

### 1. **èªè¨¼å¤±æ•—ã«ã‚ˆã‚‹ã‚¹ã‚­ãƒƒãƒ—** (139ä»¶å…¨ã¦)

**åŸå› **:
- å¤ã„èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ `e2e/helpers/auth.ts` ã‚’ä½¿ç”¨
- ã“ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã¯èªè¨¼ã«å¤±æ•—ã™ã‚‹ã¨è­¦å‘Šã‚’å‡ºã™ã ã‘ã§ç¶šè¡Œ
- å„ãƒ†ã‚¹ãƒˆå†…ã§ `if (page.url().includes('/auth/login'))` ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã®ã¾ã¾ãªã‚‰ `test.skip()` ã‚’å®Ÿè¡Œ

**ã‚³ãƒ¼ãƒ‰ä¾‹**:
```typescript
test.beforeEach(async ({ page }) => {
  await authenticateUser(page);  // å¤ã„ãƒ˜ãƒ«ãƒ‘ãƒ¼
});

test('dm-rules page loads successfully', async ({ page }) => {
  await page.goto('/dm-rules');
  await page.waitForLoadState('networkidle');

  if (page.url().includes('/auth/login')) {
    test.skip();  // â† èªè¨¼å¤±æ•—ã§ã‚¹ã‚­ãƒƒãƒ—
    return;
  }

  // ãƒ†ã‚¹ãƒˆæœ¬ä½“...
});
```

**å¯¾æ¯”**: æˆåŠŸã—ã¦ã„ã‚‹ `real-flows/` ãƒ†ã‚¹ãƒˆ (114 passed):
```typescript
test.beforeEach(async ({ page }) => {
  const result = await authenticateViaAPI(page);  // æ–°ã—ã„ãƒ˜ãƒ«ãƒ‘ãƒ¼
  if (!result.success) {
    throw new Error(`Authentication failed: ${result.error}`);
  }
});
```

---

## ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã‚¹ã‚­ãƒƒãƒ—æ•°

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¹ã‚­ãƒƒãƒ—æ•° | æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª |
|---------|----------|------------|
| `e2e/dm-proxies-settings-complete.spec.ts` | 24 | DMè‡ªå‹•é€ä¿¡ãƒ»ãƒ—ãƒ­ã‚­ã‚·ç®¡ç†ãƒ»è¨­å®š |
| `e2e/engagement-complete.spec.ts` | 22 | è‡ªå‹•ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒ« |
| `e2e/dashboard-complete.spec.ts` | 19 | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çµ±è¨ˆãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° |
| `e2e/templates-complete.spec.ts` | 18 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† |
| `e2e/loops-complete.spec.ts` | 17 | ãƒ«ãƒ¼ãƒ—è‡ªå‹•æŠ•ç¨¿ |
| `e2e/twitter-apps-complete.spec.ts` | 8 | Twitter Appç®¡ç† |
| `e2e/accounts-full-flow.spec.ts` | 8 | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ•ãƒ­ãƒ¼ |
| `e2e/posts-full-flow.spec.ts` | 6 | æŠ•ç¨¿ç®¡ç†ãƒ•ãƒ­ãƒ¼ |
| `e2e/database-views.spec.ts` | 3 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ“ãƒ¥ãƒ¼ |
| ãã®ä»– real-flows/ | 14 | å®Ÿæ©Ÿèƒ½ãƒ•ãƒ­ãƒ¼ (éƒ¨åˆ†çš„) |

---

## æ©Ÿèƒ½åˆ¥è©³ç´°

### ã‚«ãƒ†ã‚´ãƒª1: DMè‡ªå‹•é€ä¿¡ãƒ»ãƒ—ãƒ­ã‚­ã‚·ç®¡ç† (24 skipped)

**å¯¾è±¡æ©Ÿèƒ½**:
- âœ… DMé€ä¿¡ãƒ«ãƒ¼ãƒ«ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… ãƒ•ã‚©ãƒ­ãƒ¼ãƒãƒƒã‚¯æ¤œçŸ¥
- âœ… DMä¸€æ‹¬é€ä¿¡
- âœ… ãƒ—ãƒ­ã‚­ã‚·è¨­å®š (HTTP/HTTPS/SOCKS5/NordVPN)
- âœ… ãƒ—ãƒ­ã‚­ã‚·ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
- âœ… ã‚¿ã‚°ãƒ»ã‚«ãƒ†ã‚´ãƒªç®¡ç†

**ã‚¹ã‚­ãƒƒãƒ—ç†ç”±**: å…¨ã¦èªè¨¼å¤±æ•—

**ãƒ†ã‚¹ãƒˆä¾‹**:
```typescript
// e2e/dm-proxies-settings-complete.spec.ts:22
test('dm-rules page loads successfully', async ({ page }) => {
  await page.goto('/dm-rules');
  if (page.url().includes('/auth/login')) {
    test.skip();  // èªè¨¼å¤±æ•—ã§ã‚¹ã‚­ãƒƒãƒ—
  }
});
```

---

### ã‚«ãƒ†ã‚´ãƒª2: è‡ªå‹•ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ (22 skipped)

**å¯¾è±¡æ©Ÿèƒ½**:
- âœ… ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã«ã‚ˆã‚‹ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ
- âœ… ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æ¤œç´¢
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢
- âœ… URLæ¤œç´¢
- âœ… ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¨­å®š (ã„ã„ã­ãƒ»ãƒªãƒ—ãƒ©ã‚¤ãƒ»ãƒªãƒ„ã‚¤ãƒ¼ãƒˆãƒ»ãƒ•ã‚©ãƒ­ãƒ¼ãƒ»å¼•ç”¨)
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®š (ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¹´é½¢ãƒ»æ¤œè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼)
- âœ… ãƒªãƒŸãƒƒãƒˆè¨­å®š (æ—¥æ¬¡ä¸Šé™ãƒ»å®Ÿè¡Œæ¯ä¸Šé™)

**ã‚¹ã‚­ãƒƒãƒ—ç†ç”±**: å…¨ã¦èªè¨¼å¤±æ•—

**ãƒ†ã‚¹ãƒˆä¾‹**:
```typescript
// e2e/engagement-complete.spec.ts:56
test('supports keyword search', async ({ page }) => {
  await page.goto('/engagement');
  if (page.url().includes('/auth/login')) {
    test.skip();
  }
  // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢UIç¢ºèª...
});
```

---

### ã‚«ãƒ†ã‚´ãƒª3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ«ãƒ¼ãƒ— (54 skipped)

**å¯¾è±¡æ©Ÿèƒ½**:

#### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (19 skipped):
- âœ… çµ±è¨ˆè¡¨ç¤º (Twitter Apps/ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ/æŠ•ç¨¿/ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ/ãƒ«ãƒ¼ãƒ—/ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒ«/ãƒ—ãƒ­ã‚­ã‚·)
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° (ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ»ãƒ«ãƒ¼ãƒ—ãƒ­ãƒƒã‚¯ãƒ»é‡è¤‡è©¦è¡Œãƒ»ãƒˆãƒ¼ã‚¯ãƒ³çŠ¶æ…‹)
- âœ… ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ©Ÿèƒ½

#### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† (18 skipped):
- âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ (æŠ•ç¨¿/ãƒªãƒ—ãƒ©ã‚¤/CTA/DM)
- âœ… å¤‰æ•°æ©Ÿèƒ½ (`{{}}` syntax)
- âœ… ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
- âœ… ã‚¿ã‚°ãƒ»ã‚«ãƒ†ã‚´ãƒªç®¡ç†
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»æ¤œç´¢
- âœ… å‰Šé™¤ä¿è­· (ä½¿ç”¨ä¸­ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ)
- âœ… ä½¿ç”¨çµ±è¨ˆ

#### ãƒ«ãƒ¼ãƒ—è‡ªå‹•æŠ•ç¨¿ (17 skipped):
- âœ… ãƒ«ãƒ¼ãƒ—ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… å³æ™‚å®Ÿè¡Œ
- âœ… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ
- âœ… å®Ÿè¡Œãƒ­ã‚°è¡¨ç¤º
- âœ… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ‡ã‚Šæ›¿ãˆ
- âœ… ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé¸æŠ
- âœ… ã‚¸ãƒƒã‚¿ãƒ¼è¨­å®š

**ã‚¹ã‚­ãƒƒãƒ—ç†ç”±**: å…¨ã¦èªè¨¼å¤±æ•—

---

## å¯¾å¿œãŒå¿…è¦ãªé …ç›®

### âœ… **ã™ã§ã«å®Œäº†ã—ã¦ã„ã‚‹å¯¾å¿œ**

1. **æ–°ã—ã„èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…** - `e2e/helpers/real-auth.ts`
   - `authenticateViaAPI()` é–¢æ•°
   - å®Ÿéš›ã®Supabaseèªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’ä½¿ç”¨
   - Cookieãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
   - **çµæœ**: `real-flows/` ã®74ãƒ†ã‚¹ãƒˆå…¨ã¦ãŒæˆåŠŸ âœ…

2. **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿è‡ªå‹•æŠ•å…¥**
   - `supabase/seed_e2e_test_data.sql`
   - `scripts/seed-e2e-test-data.sh`
   - `npm run test:e2e:seed`
   - **çµæœ**: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ»ã‚¢ãƒ—ãƒªãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç­‰ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥å®Œäº† âœ…

### ğŸ”§ **ä»Šå¾Œã®å¯¾å¿œãŒå¿…è¦ãªé …ç›®**

1. **å¤ã„ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼æ›´æ–°** (å„ªå…ˆåº¦: é«˜)

   **å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«** (139 tests):
   ```
   e2e/dm-proxies-settings-complete.spec.ts    (24 tests)
   e2e/engagement-complete.spec.ts             (22 tests)
   e2e/dashboard-complete.spec.ts              (19 tests)
   e2e/templates-complete.spec.ts              (18 tests)
   e2e/loops-complete.spec.ts                  (17 tests)
   e2e/twitter-apps-complete.spec.ts           (8 tests)
   e2e/accounts-full-flow.spec.ts              (8 tests)
   e2e/posts-full-flow.spec.ts                 (6 tests)
   e2e/database-views.spec.ts                  (3 tests)
   ãã®ä»–                                       (14 tests)
   ```

   **ä¿®æ­£æ–¹æ³•**:
   ```typescript
   // BEFORE (å¤ã„):
   import { authenticateUser } from './helpers/auth';

   test.beforeEach(async ({ page }) => {
     await authenticateUser(page);
   });

   test('some test', async ({ page }) => {
     await page.goto('/some-page');
     if (page.url().includes('/auth/login')) {
       test.skip();
       return;
     }
     // ãƒ†ã‚¹ãƒˆæœ¬ä½“...
   });

   // AFTER (æ–°ã—ã„):
   import { authenticateViaAPI } from './helpers/real-auth';

   test.beforeEach(async ({ page }) => {
     const result = await authenticateViaAPI(page);
     if (!result.success) {
       throw new Error(`Auth failed: ${result.error}`);
     }
   });

   test('some test', async ({ page }) => {
     await page.goto('/some-page');
     // if ãƒã‚§ãƒƒã‚¯ä¸è¦ï¼èªè¨¼ã¯ä¿è¨¼ã•ã‚Œã¦ã„ã‚‹
     // ãƒ†ã‚¹ãƒˆæœ¬ä½“...
   });
   ```

2. **ãƒ†ã‚¹ãƒˆã®ä¸¦åˆ—å®Ÿè¡Œæœ€é©åŒ–** (å„ªå…ˆåº¦: ä¸­)
   - ç¾åœ¨: 3.6åˆ† (114 tests)
   - ä¿®æ­£å¾Œäºˆæ¸¬: 5-6åˆ† (253 tests)
   - æœ€é©åŒ–ç›®æ¨™: 4åˆ†ä»¥å†…

3. **CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ** (å„ªå…ˆåº¦: ä¸­)
   - GitHub Actions ã§è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒ‰è‡ªå‹•åŒ–
   - ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯

---

## çµ±è¨ˆã‚µãƒãƒªãƒ¼

```
ç·ãƒ†ã‚¹ãƒˆæ•°: 253 tests
â”œâ”€ å®Ÿè¡Œæ¸ˆã¿ (passed): 114 tests (45.1%) âœ…
â”œâ”€ ã‚¹ã‚­ãƒƒãƒ— (skipped): 139 tests (54.9%) â­ï¸
â””â”€ å¤±æ•— (failed): 0 tests (0.0%) âœ…

ã‚¹ã‚­ãƒƒãƒ—å†…è¨³:
â”œâ”€ èªè¨¼å¤±æ•—ã«ã‚ˆã‚‹ã‚¹ã‚­ãƒƒãƒ—: 139 tests (100%)
â”œâ”€ æœªå®Ÿè£…æ©Ÿèƒ½: 0 tests (0%)
â””â”€ ãã®ä»–ã®ç†ç”±: 0 tests (0%)

æˆåŠŸãƒ†ã‚¹ãƒˆå†…è¨³ (real-flows/):
â”œâ”€ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†: 11 tests âœ…
â”œâ”€ DM ãƒ«ãƒ¼ãƒ«: 9 tests âœ…
â”œâ”€ ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒ«: 13 tests âœ…
â”œâ”€ ãƒ«ãƒ¼ãƒ—å®Ÿè¡Œ: 8 tests âœ…
â”œâ”€ OAuth ãƒ•ãƒ­ãƒ¼: 14 tests âœ…
â”œâ”€ æŠ•ç¨¿å®Ÿè¡Œ: 6 tests âœ…
â”œâ”€ ãƒ—ãƒ­ã‚­ã‚·ç®¡ç†: 12 tests âœ…
â””â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ: 10 tests âœ…
```

---

## æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³åº§ã«å®Ÿè¡Œå¯èƒ½:
1. âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥: `npm run test:e2e:seed` (å®Œäº†æ¸ˆã¿)
2. âœ… æ—¢å­˜ã®æˆåŠŸãƒ†ã‚¹ãƒˆå®Ÿè¡Œ: `npm run test:e2e` (114/114 passed)

### çŸ­æœŸ (1-2æ—¥):
3. ğŸ”§ å„ªå…ˆåº¦é«˜ãƒ•ã‚¡ã‚¤ãƒ«3ã¤ã®èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼æ›´æ–°:
   - `e2e/dm-proxies-settings-complete.spec.ts`
   - `e2e/engagement-complete.spec.ts`
   - `e2e/dashboard-complete.spec.ts`
   - **æœŸå¾…çµæœ**: +65 passing tests

### ä¸­æœŸ (1é€±é–“):
4. ğŸ”§ æ®‹ã‚Šå…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼æ›´æ–°
   - **æœŸå¾…çµæœ**: 253/253 passing tests (100%)

5. ğŸ”§ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
   - GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ
   - è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒ‰

---

## çµè«–

**ç¾çŠ¶**:
- âœ… 114/253 tests passing (45%)
- âœ… 0 tests failing
- â­ï¸ 139 tests skipped (èªè¨¼å•é¡Œ)

**ä¿®æ­£å¾Œã®äºˆæ¸¬**:
- âœ… 253/253 tests passing (100%)
- âœ… 0 tests failing
- â­ï¸ 0 tests skipped

**é‡è¦**: ã‚¹ã‚­ãƒƒãƒ—ã¯ã€Œãƒã‚°ã€ã§ã¯ãªãã€Œå¤ã„å®Ÿè£…ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã®æ„å›³çš„ãªã‚¹ã‚­ãƒƒãƒ—ã€ã§ã™ã€‚
æ–°ã—ã„èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ãŠã‚Šã€`real-flows/` ã®74ãƒ†ã‚¹ãƒˆå…¨ã¦ãŒè¨¼æ˜ã—ã¦ã„ã¾ã™ã€‚

---

*ç”Ÿæˆæ—¥æ™‚: 2026-01-10*
*åˆ†æå¯¾è±¡: 253 E2E tests*
*ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: Playwright*
